(this.webpackJsonphax=this.webpackJsonphax||[]).push([[0],{34:function(e,a,t){e.exports=t(70)},39:function(e,a,t){},40:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},41:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(31),i=t.n(s),r=(t(39),t(10)),o=t(12),m=t(13),c=t(9),d=t(16),u=t(15),h=(t(40),t(41),t(11)),f=t.n(h),p=t(6),y=t(14),v=t.n(y),E=(t(64),"https://lively-scene-db1a.neinhold.workers.dev/?http://85.159.209.166.nip.io/"),g="http://www.haxball.com/replay?v=3#http://85.159.209.166/replays/",N=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={curlink:"",stats:[],replayInfo:[],chatLogs:[],chatLog:[],playerClicked:{}},f.a.get(E+"data/url.txt").then((function(e){var a=e.data;n.state.curlink=a,n.setState({curlink:n.state.curlink})})),n.getJsonl("data/stats"),n.getJsonl("data/replayInfo"),f.a.get(E+"chatlogs/").then((function(e){var a=e.data;a=(a=a.sort()).reverse(),n.state.chatLogs=a,n.setState({curlink:n.state.curlink})})),n.updateDimensions=n.updateDimensions.bind(Object(c.a)(n)),n.componentDidMount=n.componentDidMount.bind(Object(c.a)(n)),n}return Object(m.a)(t,[{key:"getJsonl",value:function(e){var a=this,t=E+e+".jsonl";f.a.get(t).then((function(t){var n=[t.data];"string"===typeof t.data&&(n=w(t.data)),"data/stats"==e&&(n.sort(a.sortByProperty("totalmatchcount")),a.state.stats=n),"data/replayInfo"==e&&(n.sort(a.sortByProperty("id")),a.state.replayInfo=n),e.includes("chatlogs/")&&(a.state.chatLog=n),a.setState({curlink:a.state.curlink})}))}},{key:"msToString",value:function(e){var a=Math.floor(e/1e3),t=Math.floor(a/3600),n=Math.floor((a-3600*t)/60);return t+"h"+n+"m"+(a-3600*t-60*n)+"s"}},{key:"sortByProperty",value:function(e){return function(a,t){var n=parseInt(a[e]),l=parseInt(t[e]);return n<l?1:n>l?-1:0}}},{key:"playerClicked",value:function(e){this.state.playerClicked[e]=!this.state.playerClicked[e],this.setState({playerClicked:this.state.playerClicked})}},{key:"renderPlayerStats",value:function(e,a){var t=this;return"HOST_AUTH"==e.auth?l.a.createElement("div",null):(a in this.state.playerClicked||(this.state.playerClicked[a]=!1),this.state.playerClicked[a]?l.a.createElement("div",{className:"Container Click",onClick:function(){return t.playerClicked(a)}},l.a.createElement("div",{className:"InfoTitle"},e.lastname),l.a.createElement("div",{className:"InfoPlainTitle"},"Games played"),l.a.createElement("div",{className:"BigDigit"},e.totalmatchcount),l.a.createElement("div",{className:"PlayerStatsGames"},l.a.createElement("div",{className:"InfoBox"},l.a.createElement("div",{className:"InfoPlainTitle"},"Wins"),l.a.createElement("div",{className:"SmallDigit"},e.totalwincount),l.a.createElement("hr",null),l.a.createElement("div",{className:"SmallDigitSmall"},(Math.floor(100*(e.totalwincount/e.totalmatchcount).toFixed(2))||0)+"%"),l.a.createElement("div",{className:"SubTitle"},"won")),l.a.createElement("div",{className:"InfoBox"},l.a.createElement("div",{className:"InfoPlainTitle"},"Losses"),l.a.createElement("div",{className:"SmallDigit"},e.totallosscount),l.a.createElement("hr",null),l.a.createElement("div",{className:"SmallDigitSmall"},(Math.floor(100*(e.totallosscount/e.totalmatchcount).toFixed(2))||0)+"%"),l.a.createElement("div",{className:"SubTitle"},"lost")),l.a.createElement("div",{className:"InfoBox"},l.a.createElement("div",{className:"InfoPlainTitle"},"Goals"),l.a.createElement("div",{className:"SmallDigit"},e.totalscorecount),l.a.createElement("hr",null),l.a.createElement("div",{className:"SmallDigitSmall"},(e.totalscorecount/e.totalmatchcount||0).toFixed(2)),l.a.createElement("div",{className:"SubTitle"},"per game")),l.a.createElement("div",{className:"InfoBox"},l.a.createElement("div",{className:"InfoPlainTitle"},"Assists"),l.a.createElement("div",{className:"SmallDigit"},e.totalassistcount),l.a.createElement("hr",null),l.a.createElement("div",{className:"SmallDigitSmall"},(e.totalassistcount/e.totalmatchcount||0).toFixed(2)),l.a.createElement("div",{className:"SubTitle"},"per game")),l.a.createElement("div",{className:"InfoPlainTitle"},"Total time played"),l.a.createElement("div",{className:"SmallDigit"},this.msToString(e.totalplaytime)))):l.a.createElement("div",{onClick:function(){return t.playerClicked(a)},className:"Container Click"},l.a.createElement("div",{className:"TextLeft"},e.lastname),l.a.createElement("div",{className:"TextRight"},e.totalmatchcount)))}},{key:"goToReplay",value:function(e){var a=g+e+".hbr2";window.open(a,"_blank")}},{key:"renderChatLog",value:function(e,a){var t=e.substring(0,e.length-6);return l.a.createElement("a",{href:t,target:"_blank"},l.a.createElement("div",{className:"Container Click"},l.a.createElement("div",{className:"SmallDigitSmall"},t)))}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"render",value:function(){var e=this,a=this.state.height-270;return this.state.height<650&&(a="500px"),l.a.createElement("div",null,l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/"},l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"Header"},l.a.createElement("div",{className:"Title"},"/hax/"),l.a.createElement("a",{className:"RoomLink",href:this.state.curlink,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("div",{className:"LinkContainer"},this.state.curlink)),l.a.createElement("div",{className:"InfoPlainTitle"},"or"),l.a.createElement("a",{className:"PlayLink",href:"https://neinhold.github.io/play",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("div",{className:"LinkContainer Small"},"neinhold.github.io/play"))),l.a.createElement("div",{className:"Row",style:{height:a}},l.a.createElement("div",{className:"Column"},l.a.createElement("div",{className:"ColumnTitle"},"Chatlogs"),l.a.createElement(v.a,null,l.a.createElement("div",{className:"Column Chatlog"},this.state.chatLogs.map((function(a,t){return e.renderChatLog(a,t)}))))),l.a.createElement("div",{className:"Column"},l.a.createElement("div",{className:"ColumnTitle"},"Stats"),l.a.createElement(v.a,null,l.a.createElement("div",{className:"Column Stats"},this.state.stats.map((function(a,t){return e.renderPlayerStats(a,t)}))))),l.a.createElement("div",{className:"Column"},l.a.createElement("div",{className:"ColumnTitle"},"Replays"),l.a.createElement(v.a,null,l.a.createElement("div",{className:"Column Replays"},this.state.replayInfo.map((function(e,a){return I(e,a)})))))))),l.a.createElement(p.a,{exact:!0,path:"/:id",component:function(a){return l.a.createElement(b,{id:a.match.params,curlink:e.state.curlink,replayInfo:e.state.replayInfo})}}),l.a.createElement(p.a,{path:"/d/:id",component:function(e){return window.location="http://85.159.209.166/replays/"+C(e.match.params.id)+".hbr2",null}})))}}]),t}(l.a.Component),b=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;Object(o.a)(this,t),(n=a.call(this,e)).state={chatLog:[],replayInfo:[],isHelp:!1};var l=e.id.id,s=e.replayInfo;if(n.state.replayInfo=s,!isNaN(l)){var i=C(l);return window.location=g+i+".hbr2",Object(r.a)(n,null)}if("play"==l){if(e.curlink)return window.location=e.curlink,Object(r.a)(n,null)}else if("help"==l)n.state.isHelp=!0;else{var m=E+"chatlogs/"+l+".jsonl";f.a.get(m).then((function(e){var a=[e.data];"string"===typeof e.data&&(a=w(e.data)),n.state.chatLog=a,n.setState({chatLog:n.state.chatLog})}))}return n}return Object(m.a)(t,[{key:"getReplayInfo",value:function(e){if(this.state.replayInfo)for(var a=0;a<this.state.replayInfo.length;a++){if(e==this.state.replayInfo[a].id)return this.state.replayInfo[a]}}},{key:"renderMessage",value:function(e){var a="",t="ChatMessage",n=new Date(parseInt(e.timeStamp)).toLocaleString();if(0==e.type&&(a+=e.name+": "),1==e.type&&(t="ChatMessageHost"),2==e.type&&(t="ChatAnnouncement"),3==e.type){t="ChatReplay",a="Replay Match #"+parseInt(e.id,10);var s=this.getReplayInfo(e.id);return l.a.createElement("div",null,l.a.createElement("div",{className:"ChatTimeStamp"},n),l.a.createElement("div",{className:t},a,s?I(s,-1):l.a.createElement("div",null)))}return a+=e.message,l.a.createElement("div",null,l.a.createElement("div",{className:"ChatTimeStamp"},n),l.a.createElement("div",{className:t},a))}},{key:"render",value:function(){var e=this;return this.state.isHelp?l.a.createElement(k,null):l.a.createElement("div",{className:"ChatContainer"},this.state.chatLog.map((function(a,t){return e.renderMessage(a,t)})))}}]),t}(l.a.Component),k=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={commands:[]},n.state.commands=[{title:"afk",syntax:["i'm afk","im afk","set me afk"],info:"Sets you as away from keyboard, which prevents your from being assigned to a team."},{syntax:["set PLAYERNAME afk","PLAYERNAME is afk"],info:"Sets other player as afk.",admin:!0},{syntax:["i'm back","im back","back","not afk","no longer afk"],info:"Clears your afk status."},{title:"stats",syntax:["how long have i been playing","whats my playtime","for how long am i playing","how long has PLAYERNAME been playing"],info:"Prints your current and total playtime. \n If PLAYERNAME is specified, prints the values of the specified player."},{syntax:["how many goals","how often have i scored","whats my goal count","how many goals has PLAYERNAME scored"],info:"Prints your total amount of goals scored and your goals per game average. \n If PLAYERNAME is specified, prints the values of the specified player."},{syntax:["how many assists","assist count","how many assists does PLAYERNAME have"],info:"Prints your total amount of assists and your assists per game average. \n If PLAYERNAME is specified, prints the values of the specified player."},{syntax:["how many matches","how many games","match count","how often have i played","how many wins","how many games has PLAYERNAME played"],info:"Prints your total amount of games played and your winrate. \n If PLAYERNAME is specified, prints the values of the specified player."},{title:"maps",syntax:["change map to MAPNAME","switch map to MAPNAME","set map MAPNAME"],info:"Changes the map to any of the default maps. Only works when no game is underway.",admin:!0},{title:"auto modes",syntax:["auto mode","auto-mode","automode"],info:"Toggles auto mode, which will automatically assign players up to 4v4.",admin:!0},{syntax:["captains mode","captains-mode","captainsmode","captain mode"],info:"Toggles captains mode, which will assign a captain to each team and prompt them to pick players.",admin:!0},{title:"game modes and modifiers",syntax:["MODENAME"],info:"Enables the respective mode. Multiple modes can be active at once and will trigger in the order listed here.\n Values modified by modes are always overridden by their respective modifiers.\n\nmessiball: sets all playersizes to the value of MESSISIZE\nameriball: sets all playersizes to the value of AMERISIZE\ngkball: sets one player per team to AMERISIZE\nmixedball: sets one player per team to AMERISIZE and one to MESSISIZE\nrandomball: randomizes the size of each player",admin:!0},{syntax:["set messisize to VALUE","set amerisize to VALUE"],info:"Changes the value of MESSISIZE or AMERISIZE, which define the player sizes in game modes. You shouldn't really change these values. They will not be reset when modifiers are reset.",admin:!0},{syntax:["MODIFIERNAME to VALUE","MODIFIERNAME VALUE"],info:"Sets the value of the respective modifier. Multiple modifiers can be set in a single command.\n\nballsize: sets the ballsize to an integer value. default is 10.\nplayersize: sets the size of each player to an integer value. default is 15.\ndamping: sets the damping of the ball to a float value that must lie between 0.0 and 1.0. a value of 1 means the ball will not lose momentum. default is 0.99.\nbounce: sets the bounce of the ball to a float value between 0.0 and 3.0. a value of 1 means the ball bounces off a surface with as much momentum as it hit that surface. default is 0.5.\nmass: sets the mass of the ball to a float value between 0.0 and 5.0. mass is inverse, so a higher value means a lighter ball and thus stronger kicks. default is 1.0.",admin:!0},{syntax:["reset"],info:"Resets all game modes and modifiers. If a game is underway you may need to stop it or score a goal in order for the default values to be applied.",admin:!0},{syntax:["what modifiers are active","tell me the current modifiers","what modes are active","what parameters have been changed"],info:"Prints a list of all currently active game modes and modifiers."},{syntax:["list modifiers","list modes","list parameters"],info:"Prints a list of all game modes and modifiers that can be set."}],n}return Object(m.a)(t,[{key:"renderSyntax",value:function(e,a){return l.a.createElement("div",{className:"CommandSyntax"},'"'+e+'"')}},{key:"renderCommand",value:function(e,a){var t=this,n="";e.title&&(n="CommandTitle");var s=l.a.createElement("div",null);return e.admin&&(s=l.a.createElement("div",{className:"Admin"},"Admins only")),l.a.createElement("div",{className:"CommandContainer"},l.a.createElement("div",{className:n},e.title),s,l.a.createElement("div",{className:"LeftTitle"},"Syntax:"),e.syntax.map((function(e,a){return t.renderSyntax(e,a)})),l.a.createElement("div",{className:"CommandInfo"},e.info))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"ChatContainer"},l.a.createElement("div",{className:"BigDigit"},"Commands"),l.a.createElement("hr",null),l.a.createElement("div",{className:"CommandContainer"},l.a.createElement("div",{className:"CommandInfo"},"All commands must start with"),l.a.createElement("div",{className:"CommandSyntax"},"Hey NeinholdBot"),l.a.createElement("div",{className:"CommandInfo"},"The syntax after that is fairly forgiving and will accept different wording.",l.a.createElement("br",null),l.a.createElement("br",null),"If parameters like MAPNAME or MODIFIERNAME are specified, these must be an exact match of the target string. PLAYERNAME needs only be a unique match, see Captains mode section for an explanation of what that means.")),this.state.commands.map((function(a,t){return e.renderCommand(a,t)})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"BigDigit"},"Captains mode for brainlets"),l.a.createElement("hr",null),l.a.createElement("div",{className:"CommandInfo"},"When you are assigned as captain of a team, you have several simple options to pick your team that are a much faster process than crying in chat about captains mode being active until an admin removes you from the game. These options are:"),l.a.createElement("div",{className:"CommandSyntax"},"Typing @"),l.a.createElement("div",{className:"CommandInfo"},"It literally doesn't get any more brainlet-proof than this. Type ",l.a.createElement("b",null,"@")," in the chatbox, and a list of all players will pop up. You can navigate that list with your arrow keys. Once you have selected a player you want to pick, press ",l.a.createElement("b",null,"TAB")," and then ",l.a.createElement("b",null,"ENTER")," to pick that player."),l.a.createElement("div",{className:"CommandSyntax"},"Typing the name of a player"),l.a.createElement("div",{className:"CommandInfo"},"Simple. This must not even be an exact match of the players name. Any string of a minimum length of 3 that is a substring of a single players name will be accepted.",l.a.createElement("br",null),"For example, if there is a player called ",l.a.createElement("b",null,"Abu Al-Britani")," and you simply type ",l.a.createElement("b",null,"abu")," in the chat, then unless there is another player whose name contains ",l.a.createElement("b",null,"abu")," in the room, ",l.a.createElement("b",null,"Abu Al-Britani")," will be picked."),l.a.createElement("div",{className:"CommandSyntax"},"Typing a number"),l.a.createElement("div",{className:"CommandInfo"},"Type the position of the player you want to pick in the spectator list."),l.a.createElement("div",{className:"CommandSyntax"},"Typing #"),l.a.createElement("div",{className:"CommandInfo"},"Works the same way ",l.a.createElement("b",null,"@")," does."),l.a.createElement("div",{className:"CommandSyntax"},"Typing random"),l.a.createElement("div",{className:"CommandInfo"},"The zoomer option. This will automatically pick a team for you, you only need to type this once. However, typing ",l.a.createElement("b",null,"random")," will immediately blacklist you from being selected as captain in the future. You can undo that blacklisting by telling NeinholdBot, see commands above."))}}]),t}(l.a.Component);function w(e){var a=e.split("\n");a=a.slice(0,a.length-1);for(var t=[],n=0;n<a.length;n++){var l=JSON.parse(a[n]);t.push(l)}return t}function C(e){var a="000000000"+e;return a.substr(a.length-8)}function I(e,a){var t="Container";return-1==a&&(t="ContainerChat"),l.a.createElement("a",{href:g+e.id+".hbr2",target:"_blank"},l.a.createElement("div",{className:t+" Click"},l.a.createElement("div",{className:"SmallDigitSmall"},parseInt(e.id,10)),l.a.createElement("div",{className:"InfoPlainTitle"},function(e){var a=e,t=Math.floor(a/60);return t+"m"+parseInt(a-60*t)+"s"}(e.duration)),l.a.createElement("div",{className:"SubTitleOffset"},e.stadium),function(e){if("No modifiers active"!=e.modifiers)return l.a.createElement("div",{className:"SubTitle"},e.modifiers)}(e),l.a.createElement("div",{className:"PlayerStatsGames"},l.a.createElement("div",{className:"InfoBoxWide"},l.a.createElement("div",{className:"InfoPlainTitle"},"Red"),l.a.createElement("div",{className:"SmallDigit"},e.scorered),l.a.createElement("hr",null)),l.a.createElement("div",{className:"InfoBoxWide"},l.a.createElement("div",{className:"InfoPlainTitle"},"Blue"),l.a.createElement("div",{className:"SmallDigit"},e.scoreblue),l.a.createElement("hr",null)),l.a.createElement("div",{className:"PlayerStatsGames"},l.a.createElement("div",{className:"InfoBoxWide"},l.a.createElement("div",{className:"SubTitle"},e.redplayers.map((function(e,a){return l.a.createElement("div",{className:"SubTitleOffset"},e)})))),l.a.createElement("div",{className:"InfoBoxWide"},l.a.createElement("div",{className:"SubTitle"},e.blueplayers.map((function(e,a){return l.a.createElement("div",{className:"SubTitleOffset"},e)}))))))))}var S=Object(p.f)(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=t(18);i.a.render(l.a.createElement(x.a,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.76a6c3a6.chunk.js.map