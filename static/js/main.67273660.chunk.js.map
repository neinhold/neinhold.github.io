{"version":3,"sources":["logo.svg","App.js","serviceWorker.js","index.js"],"names":["module","exports","serverUrl","replayUrl","App","props","state","curlink","stats","replayInfo","chatLogs","chatLog","playerClicked","axios","get","then","response","url","data","setState","getJsonl","array","path","jsonArray","parseJsonl","sort","sortByProperty","includes","ms","totalSeconds","Math","floor","hours","minutes","property","a","b","aInt","parseInt","bInt","i","this","player","auth","className","onClick","lastname","totalmatchcount","totalwincount","toFixed","totallosscount","totalscorecount","totalassistcount","msToString","totalplaytime","id","window","open","file","name","substring","length","href","target","exact","rel","map","renderChatLog","renderPlayerStats","replay","renderReplayInfo","component","match","params","location","padWithZeros","React","Component","IdHandler","isNaN","replayTitle","message","chatString","dateString","Date","timeStamp","toLocaleString","type","getReplayInfo","renderMessage","jsonl","lineArray","split","slice","json","JSON","parse","push","num","s","substr","containerName","sToString","duration","stadium","modifiers","renderModifiers","scorered","scoreblue","redplayers","blueplayers","withRouter","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.67273660.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Switch, Route, Link, withRouter, useParams, useRouteMatch } from \"react-router-dom\";\n\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport 'react-perfect-scrollbar/dist/css/styles.css';\n\nvar serverUrl = 'https://lively-scene-db1a.neinhold.workers.dev/?http://85.159.209.166.nip.io/';\nvar replayUrl = 'http://www.haxball.com/replay?v=3#http://85.159.209.166/replays/';\nvar replaySourceUrl = 'http://85.159.209.166/replays/';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      curlink: \"\",\n      stats: [],\n      replayInfo: [],\n      chatLogs: [],\n      chatLog: [],\n      playerClicked: {},\n    }\n\n    axios.get(serverUrl + \"data/url.txt\")\n    .then(response => {\n      let url = response.data;\n      this.state.curlink = url;\n      //FORCE UPDATE STATE\n      this.setState({curlink: this.state.curlink})\n    });\n\n    this.getJsonl(\"data/stats\");\n    this.getJsonl(\"data/replayInfo\");\n\n    axios.get(serverUrl + \"chatlogs/\")\n    .then(response => {\n      let array = response.data;\n      //array.reverse();\n      this.state.chatLogs = array;\n      //FORCE UPDATE STATE\n      this.setState({curlink: this.state.curlink})\n    });\n\n\n\n  }\n\n  getJsonl(path){\n    let url = serverUrl + path + \".jsonl\";\n    axios.get(url)\n    .then(response => {\n      let jsonArray = [response.data];\n      if(typeof response.data === 'string'){\n        jsonArray = parseJsonl(response.data);\n      }\n      if(path == \"data/stats\"){\n        jsonArray.sort(this.sortByProperty(\"totalmatchcount\"));\n        this.state.stats = jsonArray;\n      }\n      if(path == \"data/replayInfo\"){\n        jsonArray.sort(this.sortByProperty(\"id\"));\n        this.state.replayInfo = jsonArray;\n      }\n      if(path.includes(\"chatlogs/\")){\n        this.state.chatLog = jsonArray;\n      }\n      //FORCE UPDATE STATE\n      this.setState({curlink: this.state.curlink})\n    });\n  }\n\n\n\n  msToString(ms){\n    var totalSeconds =  Math.floor(ms / 1000);\n    var hours = Math.floor(totalSeconds / 3600);\n    var minutes = Math.floor((totalSeconds - (hours*3600)) / 60);\n    var seconds = totalSeconds - (hours*3600) - (minutes * 60);\n    var timeString = hours + \"h\" + minutes + \"m\" + seconds + \"s\";\n    return timeString;\n  }\n\n\n  sortByProperty(property){\n     return function(a,b){\n       let aInt = parseInt(a[property]);\n       let bInt = parseInt(b[property]);\n        if(aInt < bInt)\n           return 1;\n        else if(aInt > bInt)\n           return -1;\n\n        return 0;\n     }\n  }\n\n  playerClicked(i){\n    this.state.playerClicked[i] = !this.state.playerClicked[i];\n    this.setState({playerClicked: this.state.playerClicked});\n  }\n\n  renderPlayerStats(player,i){\n    if(player.auth == \"HOST_AUTH\"){\n      return(<div/>);\n    }\n\n    if(!(i in this.state.playerClicked)){\n      this.state.playerClicked[i] = false;\n    }\n\n    if(this.state.playerClicked[i]){\n      return(\n        <div className=\"Container Click\" onClick={() => this.playerClicked(i)}>\n\n          <div className=\"InfoTitle\">\n          {player.lastname}\n          </div>\n          <div className=\"InfoPlainTitle\">\n          Games played\n          </div>\n          <div className=\"BigDigit\">\n          {player.totalmatchcount}\n          </div>\n          <div className=\"PlayerStatsGames\">\n            <div className=\"InfoBox\">\n              <div className=\"InfoPlainTitle\">\n              Wins\n              </div>\n              <div className=\"SmallDigit\">\n              {player.totalwincount}\n              </div>\n              <hr/>\n              <div className=\"SmallDigitSmall\">\n              {(Math.floor((player.totalwincount/player.totalmatchcount).toFixed(2) * 100) || 0) + \"%\"}\n              </div>\n              <div className=\"SubTitle\">\n              won\n              </div>\n            </div>\n            <div className=\"InfoBox\">\n              <div className=\"InfoPlainTitle\">\n              Losses\n              </div>\n              <div className=\"SmallDigit\">\n              {player.totallosscount}\n              </div>\n              <hr/>\n              <div className=\"SmallDigitSmall\">\n              {(Math.floor((player.totallosscount/player.totalmatchcount).toFixed(2) * 100) || 0) + \"%\"}\n              </div>\n              <div className=\"SubTitle\">\n              lost\n              </div>\n            </div>\n            <div className=\"InfoBox\">\n              <div className=\"InfoPlainTitle\">\n              Goals\n              </div>\n              <div className=\"SmallDigit\">\n              {player.totalscorecount}\n              </div>\n              <hr/>\n              <div className=\"SmallDigitSmall\">\n              {(player.totalscorecount / player.totalmatchcount || 0).toFixed(2)}\n              </div>\n              <div className=\"SubTitle\">\n              per game\n              </div>\n            </div>\n            <div className=\"InfoBox\">\n              <div className=\"InfoPlainTitle\">\n              Assists\n              </div>\n              <div className=\"SmallDigit\">\n              {player.totalassistcount}\n              </div>\n              <hr/>\n              <div className=\"SmallDigitSmall\">\n              {(player.totalassistcount / player.totalmatchcount || 0).toFixed(2)}\n              </div>\n              <div className=\"SubTitle\">\n              per game\n              </div>\n            </div>\n            <div className=\"InfoPlainTitle\">\n            Total time played\n            </div>\n            <div className=\"SmallDigit\">\n            {this.msToString(player.totalplaytime)}\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    else {\n      return(\n\n        <div onClick={() => this.playerClicked(i)} className=\"Container Click\">\n\n        <div className=\"TextLeft\">\n        {player.lastname}\n        </div>\n        <div className=\"TextRight\">\n        {player.totalmatchcount}\n        </div>\n        </div>\n      )\n    }\n\n  }\n\n  goToReplay(id){\n    let url = replayUrl + id + \".hbr2\";\n    window.open(url, \"_blank\");\n  }\n\n\n\n\n\n  renderChatLog(file,i){\n    let name = file.substring(0,file.length - 6);\n    return(\n      <a href={name} target=\"_blank\">\n      <div className=\"Container Click\">\n        <div className=\"SmallDigitSmall\">\n        {name}\n        </div>\n      </div>\n      </a>\n    )\n  }\n\n  render(){\n\n\n    return (\n      <div>\n      <Switch>\n        <Route exact path={'/'}>\n          <div className=\"App\">\n\n\n\n            <header className=\"Header\">\n              <div className=\"Title\">/hax/</div>\n\n              <a\n                className=\"RoomLink\"\n                href={this.state.curlink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <div className=\"LinkContainer\">\n                  {this.state.curlink}\n                </div>\n              </a>\n            </header>\n            <div className=\"Row\">\n            <div className=\"Column\">\n            <div className=\"ColumnTitle\">\n            Chatlogs\n            </div>\n            <PerfectScrollbar>\n              <div className=\"Column Chatlog\">\n\n                {this.state.chatLogs.map((file, i) => this.renderChatLog(file, i))}\n              </div>\n              </PerfectScrollbar>\n              </div>\n              <div className=\"Column\">\n              <div className=\"ColumnTitle\">\n              Stats\n              </div>\n              <PerfectScrollbar>\n              <div className=\"Column Stats\">\n\n                {this.state.stats.map((player, i) => this.renderPlayerStats(player, i))}\n              </div>\n              </PerfectScrollbar>\n              </div>\n              <div className=\"Column\">\n              <div className=\"ColumnTitle\">\n              Replays\n              </div>\n              <PerfectScrollbar>\n              <div className=\"Column Replays\">\n\n                {this.state.replayInfo.map((replay, i) => renderReplayInfo(replay, i))}\n\n              </div>\n\n              </PerfectScrollbar>\n              </div>\n            </div>\n\n          </div>\n\n        </Route>\n        <Route exact path='/:id' component={(props) => <IdHandler id={props.match.params} replayInfo={this.state.replayInfo}/>\n             /*window.location = replayUrl  + this.padWithZeros(props.match.params.id) + \".hbr2\";\n             return null;*/\n        }/>\n        <Route path='/d/:id' component={(props) => {\n             window.location = replaySourceUrl  + padWithZeros(props.match.params.id) + \".hbr2\";\n             return null;\n        }}/>\n\n      </Switch>\n\n      </div>\n    );\n\n  }\n}\n\n\n\nexport class IdHandler extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      chatLog: [],\n      replayInfo: []\n    }\n\n    let id = props.id.id;\n    let replayInfo = props.replayInfo;\n    this.state.replayInfo = replayInfo;\n\n    if(!isNaN(id)){\n      let replayTitle = padWithZeros(id);\n      window.location = replayUrl  + replayTitle + \".hbr2\";\n    }\n    else{\n      let url = serverUrl + \"chatlogs/\" + id + \".jsonl\";\n      axios.get(url)\n      .then(response => {\n        let jsonArray = [response.data];\n        if(typeof response.data === 'string'){\n          jsonArray = parseJsonl(response.data);\n        }\n        this.state.chatLog = jsonArray;\n        this.setState({chatLog: this.state.chatLog});\n\n      });\n    }\n\n  }\n\n\n\n  getReplayInfo(id){\n    if(this.state.replayInfo){\n      for(var i = 0; i < this.state.replayInfo.length; i++){\n        let curId = this.state.replayInfo[i].id;\n        if(id == curId){\n          return this.state.replayInfo[i];\n        }\n      }\n    }\n  }\n\n  renderMessage(message){\n\n    let chatString = \"\";\n    let className = \"ChatMessage\";\n    let date = new Date(parseInt(message.timeStamp));\n    let dateString = date.toLocaleString();\n    if(message.type == 0){\n      chatString += message.name + \": \";\n    }\n    if(message.type == 1){\n      className = \"ChatMessageHost\";\n    }\n    if(message.type == 2){\n      className = \"ChatAnnouncement\";\n    }\n    if(message.type == 3){\n      className = \"ChatReplay\"\n      chatString = \"Replay Match #\" + parseInt(message.id,10);\n      let replayInfo = this.getReplayInfo(message.id);\n      return(\n        <div>\n          <div className=\"ChatTimeStamp\">\n            {dateString}\n          </div>\n          <div className={className}>\n            {chatString}\n            {(replayInfo) ? renderReplayInfo(replayInfo, -1) : <div/>}\n          </div>\n        </div>\n\n      )\n    }\n    else{\n\n      chatString += message.message;\n\n      return(\n        <div>\n          <div className=\"ChatTimeStamp\">\n            {dateString}\n          </div>\n          <div className={className}>\n            {chatString}\n          </div>\n        </div>\n      )\n    }\n  }\n\n  render(){\n\n    return (\n      <div className=\"ChatContainer\">\n        {this.state.chatLog.map((message, i) => this.renderMessage(message, i))}\n      </div>\n    );\n\n  }\n}\n\nexport function  parseJsonl(jsonl){\n    let rawLines = jsonl;\n    let lineArray = rawLines.split('\\n');\n    lineArray = lineArray.slice(0, lineArray.length-1);\n\n    let jsonArray = [];\n    for(var i = 0; i < lineArray.length; i++){\n      let json = JSON.parse(lineArray[i]);\n      jsonArray.push(json);\n    }\n    return jsonArray;\n  }\n\n  export function sToString(s){\n    var totalSeconds =  s;\n    var minutes = Math.floor(totalSeconds / 60);\n    var seconds = totalSeconds - (minutes * 60);\n    var timeString = minutes + \"m\" + parseInt(seconds) + \"s\";\n    return timeString;\n  }\n\n  export function padWithZeros(num) {\n    var s = \"000000000\" + num;\n    return s.substr(s.length-8);\n  }\n\n  export function renderModifiers(replay){\n      if(replay.modifiers != \"No modifiers active\"){\n        return(\n          <div className=\"SubTitle\">\n          {replay.modifiers}\n          </div>\n        )\n      }\n  }\n\n  export function renderReplayInfo(replay,i){\n    let containerName = \"Container\";\n    if(i == -1){\n      containerName = \"ContainerChat\";\n    }\n    return(\n      <a href={replayUrl + replay.id + \".hbr2\"} target=\"_blank\">\n      <div  className={containerName + \" Click\"}>\n\n        <div className=\"SmallDigitSmall\">\n        {parseInt(replay.id,10)}\n        </div>\n        <div className=\"InfoPlainTitle\">\n        {sToString(replay.duration)}\n        </div>\n        <div className=\"SubTitleOffset\">\n        {replay.stadium}\n        </div>\n        {renderModifiers(replay)}\n        <div className=\"PlayerStatsGames\">\n          <div className=\"InfoBoxWide\">\n            <div className=\"InfoPlainTitle\">\n            Red\n            </div>\n            <div className=\"SmallDigit\">\n            {replay.scorered}\n            </div>\n            <hr/>\n          </div>\n          <div className=\"InfoBoxWide\">\n            <div className=\"InfoPlainTitle\">\n            Blue\n            </div>\n            <div className=\"SmallDigit\">\n            {replay.scoreblue}\n            </div>\n            <hr/>\n          </div>\n          <div className=\"PlayerStatsGames\">\n            <div className=\"InfoBoxWide\">\n              <div className=\"SubTitle\">\n              {replay.redplayers.map(function(player, i){\n                return <div className=\"SubTitleOffset\">\n                {player}\n                </div>\n              })}\n              </div>\n            </div>\n            <div className=\"InfoBoxWide\">\n              <div className=\"SubTitle\">\n              {replay.blueplayers.map(function(player, i){\n                return <div className=\"SubTitleOffset\">\n                {player}\n                </div>\n              })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      </a>\n\n    )\n  }\n\n  export default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n     <App />\n   </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}